<!DOCTYPE HTML>

<html>

  <style media="all">
    h3, h3+p {display: inline;}
  </style>

  <style type="text/css">
  #wrap {
     margin:0 auto;
  }
  #left_col {
     float:left;
     width:80%;
  }
  #right_col {
     float:right;
     width:20%;
  }
  </style>

  <head>
    <title>Court Hours | UTBC - University of Toronto Badminton Club</title>
    <meta name="description" content="The University of Toronto Badminton Club (UTBC) is a student organization for all UofT students and faculty to play badminton and enjoy the support in a healthy, social and interactive environment.">
    <meta name="keywords" content="UTBC,Club,Badminton,Play,Sport,University,Toronto,Team,">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/main.css" />

    <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114"
    href="/favicon/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144"
    href="/favicon/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120"
    href="/favicon/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152"
    href="/favicon/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180"
    href="/favicon/apple-touch-icon-180x180.png">
    <meta name="apple-mobile-web-app-title" content="UTBC">
    <link rel="icon" type="image/png" href="/favicon/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png">
    <meta name="application-name" content="UTBC">
  </head>
  <body  onload="startSystem()">

    <!-- Header -->
    <!--
    <header id="header">

      <h1><a href="index.php">University of Toronto <strong>Badminton Club</strong> (UTBC)</a></h1>
      <nav id="nav">
        <ul>
          <li><a href="index.php">Home</a></li>
          <li><a href="about.php">About</a></li>
          <li><a href="faq.php">Play</a></li>
          <li><a href="SignUp.php">Register</a></li>
          <li><a href="league.php">League</a></li>
          <li><a href="contact.php">Contact</a></li>
        </ul>
      </nav>
    </header>
  -->
    <a href="#menu" class="navPanelToggle"><span class="fa fa-bars"></span></a>

    <!-- header.php takes care of stuff in the middle :D -->
    <section id="title" class="wrapper style1 special" onload="startSystem()">
        <div class="container">
            <header class="major">
                <h2><MAIN></MAIN>Court Hours System</h2>
            </header>
        </div>

        <div class="12u$ 24u$(medium)">
            <h3>Session Timer</h3>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <h3 id="sess_timer">15:00</h3>
        </div>

    		<div class="container">
          <div id="courts" class="row 300%">
            <!--Javascript generated content here-->
          </div>
    		</div>

        <div class="container">
          <div id="beginner_queue" class="row 300%">
            <div class="2u$ 12u$(medium)">
                <h3>Beginner</h3>
            </div>
            <div class="8u$ 12u$(medium)" align="left">
                <p id="begQueue">beginner queue</p>
            </div>
          </div>
        </div>

        <div class="container">
          <div id="intermediate_queue" class="row 300%">
            <div class="2u$ 12u$(medium)">
                <h3>Intermediate</h3>
            </div>
            <div class="8u$ 12u$(medium)" align="left">
                <p id="intQueue">intermediate queue</p>
            </div>
          </div>
        </div>

        <div class="container">
          <div id="advanced_queue" class="row 300%">
            <div class="2u$ 12u$(medium)">
                <h3>Advanced</h3>
            </div>
            <div class="8u$ 12u$(medium)" align="left">
                <p id="advQueue">advanced queue</p>
            </div>
          </div>
        </div>

        <div class="container">
          <div id="admin" class="row 300%">
            <h4>Admin Login</h4>
            <div class="5u$ 12u$(medium)" align="left">
                Name:
                <textarea id="adminName"></textarea>
            </div>
            <div class="5u$ 12u$(medium)" align="left">
                Password: <textarea id="adminName"></textarea>
            </div>
          </div>
        </div>

        <!-- use javascript to change visibility -->
        <div class="container" style="visibility: visible">
          <div id="adminAdd" class="row 300%">
            <h4>Add Player</h4>
            <div class="3u$ 12u$(medium)" align="left">
                Player ID: <textarea id="playerID"></textarea>
            </div>
            <!-- Suggest name for player -->
            <div class="3u$ 12u$(medium)" align="left">
                Name: <textarea id="playerName"></textarea>
            </div>
            <div class="3u$ 12u$(medium)" align="left">
                Level: <select id="lvlOptBox">
                    <option value=1>Beginner</option>
                    <option value=2>Intermediate</option>
                    <option value=3>Advanced</option>
                </select>
            </div>
          </div>
        </div>

  	</section>

		<!-- Footer -->
		<?php include("footer.php"); ?>

	</body>

  <script type="text/javascript">

    var allCourts = 6;
    var courtSection = document.getElementById("courts");
    var displayArea = {
        start : function() {
            this.interval = setInterval(updateCourts, 250);
        },
        stop : function() {
            clearInterval(this.interval);
        },
    }

    function updateCourts() {
        console.log("Lalal");
    }

    function startSystem() {
      console.log("lalala");

      for (var i = 0; i < allCourts; i++){
        addCourt(i);
      }
      displayArea.start();
    }

    function addCourt(index) {
      var courtDiv = document.createElement("div");
      courtDiv.id = "courtDiv" + index.toString();
      courtDiv.className = "4u$ 12u$(medium)";
      courtDiv.innerHTML = "Court " + (index + 1).toString();
      courtSection.appendChild(courtDiv);

      // Create cur player table
      var curTable = document.createElement('table');
      var row1 = curTable.insertRow(0);
      var row2 = curTable.insertRow(1);
      var row1col1 = row1.insertCell(0);
      row1col1.id = "cur_" + index.toString() + "_0";
      row1col1.innerHTML = 'Player 1';
      var row1col2 = row1.insertCell(1);
      row1col2.id = "cur_" + index.toString() + "_1";
      row1col2.innerHTML = 'PLayer 2';
      var row2col1 = row2.insertCell(0);
      row2col1.id = "cur_" + index.toString() + "_2";
      row2col1.innerHTML = 'Player 3';
      var row2col2 = row2.insertCell(1);
      row2col2.id = "cur_" + index.toString() + "_2";
      row2col2.innerHTML = 'Player 4';
      courtDiv.appendChild(curTable);

      // Queue
      var txt = document.createElement("text");
    }

  </script>

  <script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyC76kIXgswO14wXQzw6Hhj2pubT0zqcNm0",
      authDomain: "utbc-d0849.firebaseapp.com",
      databaseURL: "https://utbc-d0849.firebaseio.com",
      projectId: "utbc-d0849",
      storageBucket: "utbc-d0849.appspot.com",
      messagingSenderId: "463424028367"
    };
    
    // Use as global singleton
    var firebaseApp = firebase.initializeApp(config);
    var userId = firebase.auth();
    var db = firebase.database();

    // Add player to some court and script
    function fb_addPlayer(court, playerID, playerName) {

    }

    // -------- HELPER functions for the three Queues (beginner, intermediate, and advanced) --------

    // Add a player to some queue level
    function fb_addPlayerToQueue(playerObj, queueLevel) {
      return db.ref("queues/" + queueLevel).update //Do update here

    }

    function fb_getQueue(queueLevel) {
      return db.ref("queues/" + queueLevel).once('value').then(function(snapshot) {
        return snapshot.val();
      });
    }

    // ------ HELPER functions to for the actual courts
    function fb_getCourts() {
      return db.ref("courts").once('value').then(function(snapshot) {
        return snapshot.val();
      });
    }

    // ------- Helper function that will set the firebase clock to now (the firebase timer for when the last rotation was)
    function fb_resetTimer() {
      // Resets the timer to now
      db.ref('last_rotation_time/').set(new Date().getTime());
    }
  </script>

</html>
